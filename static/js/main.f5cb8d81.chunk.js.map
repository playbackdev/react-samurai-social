{"version":3,"sources":["redux/ProfileReducer.js","api/api.js","redux/DialogsReducer.js","redux/UsersReducer.js","components/News/News.module.scss","components/Music/Music.module.scss","components/Settings/Settings.module.scss","assets/img/Loader.svg","components/UI/Preloader/Preloader.module.scss","assets/img/react_logo.png","components/Navbar/Navbar.module.scss","components/Login/Login.module.scss","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Login/LoginForm.js","redux/ErrorsReducer.js","redux/AuthReducer.js","components/Login/Login.js","redux/AppReducer.js","components/UI/Preloader/AppPreloader.js","components/Navbar/Navbar.js","components/Header/Header.js","components/Header/HeaderContainer.js","components/UI/Popup/Popup.js","App.js","redux/reduxStore.js","serviceWorker.js","index.js","utils/validators/validators.js","components/UI/FormValidation/ValidatedElement.js","components/UI/Preloader/Preloader.js","components/UI/FormValidation/ValidatedElement.module.scss","components/UI/Preloader/AppPreloader.module.scss","components/Header/Header.module.scss","components/UI/Popup/Popup.module.scss"],"names":["initialState","isProfileFetching","profile","status","posts","id","text","likesCount","profileReducer","state","action","type","length","newPostText","filter","p","postId","photos","addPost","setIsProfileFetching","setStatus","fetchProfile","userId","dispatch","a","API","data","fetchStatus","updateStatus","resultCode","saveAvatar","avatar","saveProfileInfo","getState","auth","errorFormText","messages","join","fieldErrors","i","includes","stopSubmit","_error","Promise","reject","axiosInstance","axios","withCredentials","baseURL","headers","getUsers","currentPage","pageSize","get","then","response","followUser","post","unfollowUser","delete","put","authMe","login","email","password","rememberMe","captcha","logout","getCaptchaUrl","file","formData","FormData","append","dialogs","name","message","own","dialogsReducer","messageText","dialogSendMessage","users","totalUsersCount","areUsersFetching","toggleFollowSuccess","isFollow","setUsersAreFetching","fetchUsers","page","items","totalCount","toggleFollowUser","answerHandler","usersReducer","map","user","followed","module","exports","News","props","className","classes","Music","Settings","loginValidators","required","maxLength","passwordValidators","minLength","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","FormItem","Field","component","ValidatedElement","element","validate","placeholder","label","captchaUrl","alt","src","error","disabled","submitting","icon","faSignInAlt","SET_ERROR","CLEAR_ERROR","errorsReducer","setTempUserError","timeout","setUserError","setTimeout","isFetching","isAuth","AuthReducer","payload","setIsFetching","setAuthUserData","url","connect","errorText","to","Login","startSubmit","initialized","AppReducer","AppPreloader","loader","Preloader","Navbar","nav","activeClassName","active","faUser","navLinkText","faEnvelope","faUsers","faNewspaper","faMusic","faCog","Header","header","Logo","LoginPanel","onClick","faSignOutAlt","HeaderContainer","this","React","Component","mapDispatchToProps","Popup","useState","showPopup","setShowPopup","useEffect","cn","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","fallback","path","render","exact","from","appState","userErrors","reducers","combineReducers","profilePage","dialogsPage","usersPage","formReducer","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunkMiddleware","store","createStore","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","value","input","meta","invalid","touched","submitFailed","createElement","htmlFor","valid","width","height"],"mappings":"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","file":"static/js/main.f5cb8d81.chunk.js","sourcesContent":["import {API} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst ADD_POST = 'ADD_POST';\nconst DELETE_POST = 'DELETE_POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_PROFILE_IS_FETCHING = 'SET_PROFILE_IS_FETCHING';\nconst SET_STATUS = 'SET_STATUS';\nconst SET_AVATAR_SUCCESS = 'SET_AVATAR_SUCCESS';\n\nconst initialState = {\n    isProfileFetching: false,\n    profile: null,\n    status: '',\n    posts: [\n        {id: 0, text: 'My first post', likesCount: 123},\n        {id: 1, text: 'My second post', likesCount: 58},\n        {id: 2, text: 'My third post', likesCount: 42}\n    ]\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_USER_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            };\n        case ADD_POST:\n            return {\n                ...state,\n                posts: [\n                    ...state.posts,\n                    {\n                        id: state.posts.length,\n                        text: action.newPostText,\n                        likesCount: 0\n                    }\n                ]\n            };\n        case DELETE_POST:\n            return {\n                ...state, posts: state.posts.filter(p => p.id !== action.postId)\n            };\n        case SET_PROFILE_IS_FETCHING:\n            return {\n                ...state, isProfileFetching: action.isProfileFetching\n            };\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.status\n            };\n        case SET_AVATAR_SUCCESS:\n            return {\n                ...state,\n                profile: {\n                    ...state.profile,\n                    photos: action.photos\n                }\n            };\n        default:\n            return state;\n    }\n};\n\nexport default profileReducer;\n\nexport const fetchProfileSuccess = profile => {\n    return { type: SET_USER_PROFILE, profile}\n};\n\nexport const addPost = (newPostText) => {\n    return {type: ADD_POST, newPostText};\n};\n\nexport const deletePost = (postId) => {\n    return {type: DELETE_POST, postId};\n};\n\nexport const setIsProfileFetching = isProfileFetching => {\n    return { type: SET_PROFILE_IS_FETCHING, isProfileFetching}\n};\n\nexport const setStatus = status => {\n    return { type: SET_STATUS, status}\n};\n\nexport const saveAvatarSuccess = photos => {\n    return { type: SET_AVATAR_SUCCESS, photos}\n};\n\n\n\n//thunks\nexport const fetchProfile = (userId) => async (dispatch) => {\n    dispatch(setIsProfileFetching(true));\n    const data = await API.fetchProfile(userId);\n    dispatch(fetchProfileSuccess(data));\n    dispatch(setIsProfileFetching(false));\n\n};\n\nexport const fetchStatus = (userId) => async (dispatch) => {\n    const data = await API.fetchStatus(userId);\n    dispatch(setStatus(data));\n};\n\nexport const updateStatus = (status) => async dispatch => {\n    const data = await API.updateStatus(status);\n    if (data.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n};\n\nexport const saveAvatar = (avatar) => async dispatch => {\n    const data = await API.saveAvatar(avatar);\n    if (data.resultCode === 0) {\n        dispatch(saveAvatarSuccess(data.data.photos));\n    }\n};\n\nexport const saveProfileInfo = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const data = await API.saveProfileInfo(profile);\n    if (data.resultCode === 0) {\n        dispatch(fetchProfile(userId));\n    } else {\n        const errorFormText = data.messages.length > 0 ? data.messages.join(', ') : 'Server error';\n\n        let fieldErrors = {};\n        for(let i = 0; i < data.messages.length; i++) {\n            if(data.messages[i].includes('Facebook')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"facebook\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('Website')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"website\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('Instagram')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"instagram\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('Vk')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"vk\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('Youtube')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"youtube\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('Github')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"github\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('MainLink')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"mainLink\": \"Invalid link format\"};\n            }\n            if(data.messages[i].includes('Twitter')) {\n                fieldErrors[\"contacts\"] = {...fieldErrors[\"contacts\"], \"twitter\": \"Invalid link format\"};\n            }\n        }\n\n        dispatch(stopSubmit(\"profileInfoEdit\", {_error: errorFormText, ...fieldErrors}));\n\n        return Promise.reject(errorFormText);\n    }\n};\n\n","import * as axios from \"axios\";\n\nconst axiosInstance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": '865d9a90-c17e-47a6-8a20-ea2bc0a08d8d'\n    }\n});\n\nexport const API = {\n    getUsers: (currentPage = 1, pageSize = 10) => {\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data);\n    },\n    followUser: (userId) => {\n        return axiosInstance.post(`follow/${userId}`)\n            .then(response => response.data);\n    },\n    unfollowUser: (userId) => {\n        return axiosInstance.delete(`follow/${userId}`)\n            .then(response => response.data);\n    },\n    fetchProfile: (userId) => {\n        return axiosInstance.get(`profile/${userId}`)\n            .then(response => response.data);\n    },\n    fetchStatus: (userId) => {\n        return axiosInstance.get(`profile/status/${userId}`)\n            .then(response => response.data);\n    },\n    updateStatus: (status) => {\n        return axiosInstance.put(`profile/status`, {status})\n            .then(response => response.data);\n    },\n    authMe: () => {\n        return axiosInstance.get(`auth/me`)\n            .then(response => response.data);\n    },\n    login: (email, password, rememberMe = false, captcha = null) => {\n        return axiosInstance.post(`auth/login`, {email, password, rememberMe, captcha})\n            .then(response => response.data);\n    },\n    logout: () => {\n        return axiosInstance.delete(`auth/login`)\n            .then(response => response.data);\n    },\n    getCaptchaUrl: () => {\n        return axiosInstance.get(`security/get-captcha-url`)\n            .then(response => response.data);\n    },\n    saveAvatar: (file) => {\n        let formData = new FormData();\n        formData.append(\"image\", file);\n        return axiosInstance.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        }).then(response => response.data);\n    },\n    saveProfileInfo: (profile) => {\n        return axiosInstance.put(`profile`, profile).then(response => response.data);\n    },\n\n};\n\n","const DIALOG_SEND_MESSAGE = 'DIALOG_SEND_MESSAGE';\n\nconst initialState = {\n    dialogs: [\n        {id: 1, name: 'Dimych'},\n        {id: 2, name: 'Vasya'},\n        {id: 3, name: 'Petya'},\n        {id: 4, name: 'Yuri'},\n        {id: 5, name: 'Vika'},\n        {id: 6, name: 'Katya'},\n        {id: 7, name: 'Dasha'},\n        {id: 8, name: 'Sveta'}\n    ],\n    messages: [\n        {id: 0, message: \"Hi!\"},\n        {id: 1, own: true, message: \"Hello!\"},\n        {id: 2, message: \"How are you?\"},\n        {id: 3, own: true, message: \"I'm fine, and what about you?\"},\n        {id: 4, message: \"Very super!\"},\n        {id: 5, own: true, message: \"thats goooood!\"}\n    ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case DIALOG_SEND_MESSAGE:\n            return {\n                ...state,\n                messages: [\n                    ...state.messages,\n                    {\n                        id: state.messages.length,\n                        own: true,\n                        message: action.messageText\n                    }\n                ],\n                messageText: ''\n            };\n        default:\n            return state;\n    }\n};\n\nexport default dialogsReducer;\n\nexport const dialogSendMessage = (messageText) => {\n    return {type: DIALOG_SEND_MESSAGE, messageText};\n};","import {API} from \"../api/api\";\n\nconst USER_TOGGLE_FOLLOW = 'user/USER_TOGGLE_FOLLOW';\nconst USER_UNFOLLOW = 'user/USER_UNFOLLOW';\nconst SET_USERS = 'user/SET_USERS';\nconst SET_CURRENT_PAGE = 'user/SET_CURRENT_PAGE';\nconst SET_USERS_ARE_FETCHING = 'user/SET_USERS_ARE_FETCHING';\n\nconst initialState = {\n    users: [],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    areUsersFetching: false\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_USERS:\n            return {\n                ...state,\n                users: [...action.users],\n                totalUsersCount: action.totalCount\n            };\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: action.currentPage\n            };\n        case USER_TOGGLE_FOLLOW:\n            return {\n                ...state,\n                users: state.users.map(user => {\n                    return user.id === action.userId\n                        ? {\n                            ...user,\n                            followed: action.isFollow\n                        }: user;\n                })\n            };\n        case SET_USERS_ARE_FETCHING:\n            return {\n                ...state,\n                areUsersFetching: action.areUsersFetching\n\n            };\n        default:\n            return state;\n    }\n};\n\n\nexport const toggleFollowSuccess = (userId, isFollow) => {\n    return {type: USER_TOGGLE_FOLLOW, userId, isFollow};\n};\n\nexport const setUsers = (users, totalCount) => {\n    return {type: SET_USERS, users, totalCount};\n};\n\nexport const setCurrentPage = (currentPage) => {\n    return {type: SET_CURRENT_PAGE, currentPage}\n};\n\nexport const setUsersAreFetching = (areUsersFetching) => {\n    return {type: SET_USERS_ARE_FETCHING, areUsersFetching}\n};\n\n//thunks\nexport const fetchUsers = (page, pageSize) => async dispatch => {\n    dispatch(setUsersAreFetching(true));\n    const data = await API.getUsers(page, pageSize)\n    dispatch(setUsers(data.items, data.totalCount));\n    dispatch(setCurrentPage(page));\n    dispatch(setUsersAreFetching(false));\n};\n\nexport const toggleFollowUser = (userId, isFollow, answerHandler) => async dispatch => {\n    const data = isFollow ? await API.followUser(userId) : await API.unfollowUser(userId);\n    if (data.resultCode === 0) {\n        dispatch(toggleFollowSuccess(userId, isFollow));\n    }\n    answerHandler();\n};\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"News\":\"News_News__2FFWf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Music\":\"Music_Music__1NJy8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Settings\":\"Settings_Settings__3aFiG\"};","module.exports = __webpack_public_path__ + \"static/media/Loader.ba9201d8.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__ios9Z\"};","module.exports = __webpack_public_path__ + \"static/media/react_logo.c5a8e655.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__NNy7M\",\"active\":\"Navbar_active__3KeoL\",\"navLinkText\":\"Navbar_navLinkText__gDve_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__2_tNK\",\"FormItem\":\"Login_FormItem__2ON04\",\"error\":\"Login_error__n4XNc\"};","import React from \"react\";\nimport classes from './News.module.scss'\n\nconst News = (props) => {\n    return (\n        <div className={classes.News}>\n            News\n        </div>\n    );\n};\n\nexport default News;","import React from \"react\";\nimport classes from './Music.module.scss'\n\nconst Music = (props) => {\n    return (\n        <div className={classes.Music}>\n            Music\n        </div>\n    );\n};\n\nexport default Music;","import React from \"react\";\nimport classes from './Settings.module.scss'\n\nconst Settings = (props) => {\n    return (\n        <div className={classes.Settings}>\n            Settings\n        </div>\n    );\n};\n\nexport default Settings;","import React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport classes from './Login.module.scss';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSignInAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {ValidatedElement} from \"../UI/FormValidation/ValidatedElement\";\nimport {maxLength, minLength, required} from \"../../utils/validators/validators\";\n\nconst loginValidators = [required, maxLength(32)];\nconst passwordValidators = [required, minLength(6)];\n\nconst LoginForm = (props) => {\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div className={classes.FormItem}>\n                <Field\n                    component={ValidatedElement}\n                    element={'input'}\n                    name={'email'}\n                    type={'text'}\n                    validate={loginValidators}\n                    placeholder={'Email'}/>\n            </div>\n            <div className={classes.FormItem}>\n                <Field\n                    component={ValidatedElement}\n                    element={'input'}\n                    name={'password'}\n                    type={'password'}\n                    validate={passwordValidators}\n                    placeholder={'Password'}/>\n            </div>\n            <div className={classes.FormItem}>\n                <Field id={'rememberMe'}\n                       className={'customCheckBox'}\n                       component={ValidatedElement}\n                       element={'input'}\n                       label={'Remember me'}\n                       type={\"checkbox\"}\n                       name={'rememberMe'}\n                />\n            </div>\n            {/*Каптча*/}\n            {props.captchaUrl && <div className={classes.FormItem}>\n                <div>\n                    <img alt=\"\" src={props.captchaUrl}/>\n                </div>\n                <Field\n                    component={ValidatedElement}\n                    element={'input'}\n                    name={'captcha'}\n                    type={'text'}\n                    validate={[required]}\n                    placeholder={'Enter captcha'}/>\n            </div>}\n            {/*Ошибки валидации формы*/}\n            {props.error && <div className={classes.FormItem + ' ' + classes.error}>\n                {props.error}\n            </div>}\n            {/*Кнопка сабмита формы*/}\n            <div className={classes.FormItem}>\n                <button type={\"submit\"} disabled={props.submitting}\n                    className={'blue'}\n                >\n                    <FontAwesomeIcon icon={faSignInAlt}/>&nbsp;\n                    Login\n                </button>\n            </div>\n        </form>\n    );\n};\n\nconst LoginReduxForm = reduxForm(\n    {\n        form: 'login',\n    })(LoginForm);\n\nexport default LoginReduxForm;","const SET_ERROR = 'errorsReducer/SET_ERROR';\nconst CLEAR_ERROR = 'errorsReducer/CLEAR_ERROR';\n\nconst initialState = {\n    error: null\n};\n\nconst errorsReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_ERROR:\n            return {\n                ...state,\n                error: action.message\n            };\n        case CLEAR_ERROR:\n            return {\n                ...state,\n                error: null\n            };\n        default:\n            return state;\n    }\n};\n\nexport default errorsReducer;\n\nexport const setUserError = (message) => {\n    return {type: SET_ERROR, message};\n};\n\nexport const clearUserError = () => {\n    return {type: CLEAR_ERROR};\n};\n\n//thunks\nexport const setTempUserError = (message, timeout) => dispatch => {\n    dispatch(setUserError(message));\n    setTimeout(() => {\n        dispatch(clearUserError());\n    }, timeout);\n\n\n};\n","import {API} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\nimport {setTempUserError} from \"./ErrorsReducer\";\n\nconst SET_AUTH_IS_FETCHING = 'auth/SET_AUTH_IS_FETCHING';\nconst FETCH_USER_DATA = 'auth/FETCH_USER_DATA';\nconst SET_CAPTCHA = 'auth/SET_CAPTCHA';\nconst CLEAR_CAPTCHA = 'auth/CLEAR_CAPTCHA';\n\nconst initialState = {\n    isFetching: false,\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n};\n\nconst AuthReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case FETCH_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            };\n        case SET_AUTH_IS_FETCHING:\n            return {\n                ...state, isFetching: action.isFetching\n            };\n        case SET_CAPTCHA:\n            return {\n                ...state, captchaUrl: action.captchaUrl\n            };\n        case CLEAR_CAPTCHA:\n            return {\n                ...state, captchaUrl: null\n            };\n        default:\n            return state;\n    }\n};\n\nexport default AuthReducer;\n\n\nexport const setIsFetching = isFetching => {\n    return { type: SET_AUTH_IS_FETCHING, isFetching}\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => {\n    return { type: FETCH_USER_DATA, payload: {userId, email, login, isAuth}}\n};\n\nexport const setCaptcha = (captchaUrl) => {\n    return { type: SET_CAPTCHA, captchaUrl}\n};\n\nexport const clearCaptcha = () => {\n    return { type: CLEAR_CAPTCHA };\n};\n\n//thunks\nexport const authMe = () => async (dispatch) => {\n    dispatch(setIsFetching(true));\n    const response = await API.authMe();\n    if (response.resultCode === 0) {\n        dispatch(setAuthUserData(\n            response.data.id,\n            response.data.email,\n            response.data.login,\n            true));\n    }\n    dispatch(setIsFetching(false));\n};\n\nexport const login = (email, password, rememberMe, captcha = null) => async dispatch => {\n    const data = await API.login(email, password, rememberMe, captcha);\n    if (data.resultCode === 0) {\n        dispatch(authMe());\n        if (captcha) {\n            dispatch(clearCaptcha());\n        }\n    } else {\n        if (data.resultCode === 10) {\n            dispatch(getCaptchaUrl());\n            dispatch(setTempUserError(\"Вы слишком много раз ввели неверный пароль\", 5000));\n        }\n        const errorText = data.messages.length > 0 ? data.messages.join(', ') : 'Server error';\n        dispatch(stopSubmit(\"login\", {_error: errorText}));\n    }\n    //dispatch(stopSubmit('login'));\n};\n\nexport const getCaptchaUrl = () => dispatch => {\n    API.getCaptchaUrl()\n        .then(data => dispatch(setCaptcha(data.url)));\n};\n\nexport const logout = () => async (dispatch) => {\n    const data = await API.logout();\n    if (data.resultCode === 0) {\n        dispatch(setAuthUserData(\n            null,\n            null,\n            null,\n            false));\n    }\n};\n\n","import React from \"react\";\nimport LoginReduxForm from \"./LoginForm\";\nimport classes from './Login.module.scss';\nimport {startSubmit} from 'redux-form';\nimport {connect} from \"react-redux\";\nimport {login, logout} from \"../../redux/AuthReducer\";\nimport {Redirect} from \"react-router-dom\";\n\nconst Login = (props) => {\n\n    const onSubmit = (formData, dispatch) => {\n        dispatch(startSubmit('login'));\n        const captcha = formData.captcha || null;\n        props.login(formData.email, formData.password, formData.rememberMe, captcha);\n    };\n\n    if(props.isAuth) {\n        return <Redirect to={\"/profile\"}/>;\n    }\n\n    return (\n        <div className={classes.Login}>\n            <h3>Login</h3>\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl\n});\n\nexport default connect(mapStateToProps, {login, logout})(Login);","import {API} from \"../api/api\";\nimport {authMe} from \"./AuthReducer\";\n\nconst SET_INITIALIZED = 'SET_INITIALIZED';\n\nconst initialState = {\n    initialized: false\n};\n\nconst AppReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_INITIALIZED:\n            return {\n                ...state,\n                initialized: true\n            };\n        default:\n            return state;\n    }\n};\n\nexport default AppReducer;\n\n\nexport const setInitialized = () => {\n    return { type: SET_INITIALIZED}\n};\n\n\n//thunks\nexport const initializeApp = () => async (dispatch) => {\n    await dispatch(authMe());\n    dispatch(setInitialized());\n};\n","import React from \"react\";\nimport Preloader from \"./Preloader\";\nimport classes from \"./AppPreloader.module.scss\";\n\nconst AppPreloader = () => {\n    return (\n        <div className={classes.AppPreloader}>\n            <div className={classes.loader}>\n                <Preloader/>\n            </div>\n        </div>\n    );\n};\n\nexport default AppPreloader;","import React from \"react\";\nimport classes from './Navbar.module.scss';\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCog, faEnvelope, faUser, faUsers} from \"@fortawesome/free-solid-svg-icons\";\nimport {faNewspaper} from \"@fortawesome/free-solid-svg-icons/faNewspaper\";\nimport {faMusic} from \"@fortawesome/free-solid-svg-icons/faMusic\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n    return (\n        <nav className={classes.nav}>\n            <div>\n\n                <NavLink to=\"/profile\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faUser} />\n                    <span className={classes.navLinkText}>Profile</span>\n                </NavLink>\n            </div>\n            <div>\n            <NavLink to=\"/dialogs\" activeClassName={classes.active}>\n                <FontAwesomeIcon icon={faEnvelope} />\n                <span className={classes.navLinkText}>Messages</span>\n            </NavLink>\n        </div>\n            <div>\n                <NavLink to=\"/users\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faUsers} />\n                    <span className={classes.navLinkText}>Users</span>\n                </NavLink>\n            </div>\n            <div>\n\n                <NavLink to=\"/news\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faNewspaper} />\n                    <span className={classes.navLinkText}>News</span>\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/music\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faMusic} />\n                    <span className={classes.navLinkText}>Music</span>\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/settings\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faCog} />\n                    <span className={classes.navLinkText}>Settings</span>\n                </NavLink>\n            </div>\n        </nav>\n    );\n\n};\n\nexport default Navbar;","import React from \"react\";\nimport classes from './Header.module.scss'\n\nimport Logo from '../../assets/img/react_logo.png'\nimport Navbar from \"../Navbar/Navbar\";\nimport {NavLink} from \"react-router-dom\";\nimport Preloader from \"../UI/Preloader/Preloader\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSignOutAlt} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Header = (props) => {\n    return (\n        <header className={classes.header}>\n            <img alt=\"\" src={Logo}\n            />\n            <Navbar/>\n            <div className={classes.LoginPanel}>\n                {props.isFetching ? <Preloader/>\n                    : props.isAuth ?\n                        <div>\n                            Hello, {props.login}&nbsp;\n                            <button onClick={props.logout}>\n                                <FontAwesomeIcon icon={faSignOutAlt}/>\n                            </button>\n                        </div>\n                        : <NavLink to='/login'>Login</NavLink>\n                }\n            </div>\n        </header>\n    );\n\n};\n\nexport default Header;","import React from \"react\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/AuthReducer\";\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return <Header {...this.props} />\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        isFetching: state.auth.isFetching,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    };\n};\n\nconst mapDispatchToProps = {\n    logout\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import React, {useEffect, useState} from \"react\";\nimport classes from \"./Popup.module.scss\";\nimport cn from \"classnames\";\n\nexport const Popup = ({message, className, timeout = 3000}) => {\n\n    const [showPopup, setShowPopup] = useState(false);\n\n    useEffect( () => {\n        setShowPopup(true);\n        setTimeout(() => {\n            setShowPopup(false);\n        }, timeout);\n    }, [message]);\n\n    if(!showPopup) return null;\n    return (\n        <div className={ cn(classes.Popup, {[classes[className]]: !!className}) }>\n            <p>\n            {message}\n            </p>\n        </div>\n    );\n};","import React, {Component, Suspense, lazy} from 'react';\nimport './App.scss';\nimport {Redirect, Route, Switch} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/AppReducer\";\nimport AppPreloader from \"./components/UI/Preloader/AppPreloader\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport {Popup} from \"./components/UI/Popup/Popup\";\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'));\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if(!this.props.initialized) {\n            return <AppPreloader/>;\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <div className=\"app-container\">\n                    <div className=\"app-content\">\n                        <Suspense fallback={<AppPreloader/>}>\n                            <Switch>\n                                {/*Знак ? в конце пути означает, что параметр опциональный,\n                                роут будет работать и без него*/}\n                                <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                                <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                                <Route path='/users' component={UsersContainer}/>\n                                <Route path='/news' component={News}/>\n                                <Route path='/music' component={Music}/>\n                                <Route path='/settings' component={Settings}/>\n                                <Route path='/login' component={Login}/>\n                                <Redirect exact from=\"/\" to=\"/profile\"/>\n                                <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\n                            </Switch>\n                            {this.props.error && <Popup message={this.props.error} className={\"error\"}/>}\n                        </Suspense>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        initialized: state.appState.initialized,\n        error: state.userErrors.error\n    }\n};\n\nconst mapDispatchToProps = {\n    initializeApp\n};\n\n//если роутинг не работает, то обернуть еще в withRouter()\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./ProfileReducer\";\nimport dialogsReducer from \"./DialogsReducer\";\nimport usersReducer from \"./UsersReducer\";\nimport AuthReducer from \"./AuthReducer\";\nimport AppReducer from \"./AppReducer\";\nimport errorsReducer from \"./ErrorsReducer\";\n\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form';\n\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: AuthReducer,\n    appState: AppReducer,\n    form: formReducer,\n    userErrors: errorsReducer\n});\n\nconst composeEnhancers =\n    typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n        }) : compose;\n\nconst enhancer = composeEnhancers(\n    applyMiddleware(thunkMiddleware),\n    // other store enhancers if any\n);\n\nlet store = createStore(reducers, enhancer);\n\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport store from './redux/reduxStore';\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n        /*HashRouter only for gh-pages. Use BrowserRouter! */\n        <HashRouter\n            /*basename={process.env.PUBLIC_URL}*/\n        >\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>,\n    document.getElementById('root')\n);\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const required = value => {\n    if(value) return undefined;\n    return 'Field is required';\n};\n\nexport const minLength = length => value => {\n    if(value && value.length < length) return `Min length is ${length} chars`;\n    return undefined;\n};\n\nexport const maxLength = length => value => {\n    if(value && value.length > length) return `Max length is ${length} chars`;\n    return undefined;\n};","import React from \"react\";\nimport classes from \"./ValidatedElement.module.scss\";\nimport cn from \"classnames\";\n\n//остаточные параметры\nexport const ValidatedElement = ({input, meta, element, ...props}) => {\n    return (\n        <div className={cn(classes.ValidatedElement, {[classes.error]: meta.invalid && meta.error && (meta.touched || meta.submitFailed) })}>\n            {React.createElement(element, {...input, ...props})}\n\n            {/*Если тип checkbox, то создаем для него DOM-элемент Label*/}\n            {props.type === 'checkbox' &&\n                React.createElement('label', {htmlFor: props.id}, props.label || 'set \"label\" prop')}\n            {/*Создаем span елемент с ошибками*/}\n            {meta.touched && !meta.valid && <span className={'error'}>{meta.error}</span>}\n        </div>\n    )\n};","import React from \"react\";\nimport loader from \"../../../assets/img/Loader.svg\";\nimport classes from './Preloader.module.scss'\n\nconst Preloader = () => {\n    return (<img  className={classes.Preloader} width=\"100px\" height=\"100px\" alt=\"\" src={loader}/>);\n};\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ValidatedElement\":\"ValidatedElement_ValidatedElement__JqD5x\",\"error\":\"ValidatedElement_error__3VKn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppPreloader\":\"AppPreloader_AppPreloader__2ar25\",\"loader\":\"AppPreloader_loader__1mydN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Te5S\",\"LoginPanel\":\"Header_LoginPanel__3Nn0U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Popup\":\"Popup_Popup__3nCmL\",\"error\":\"Popup_error__XPCQZ\",\"info\":\"Popup_info__2DhD7\"};"],"sourceRoot":""}