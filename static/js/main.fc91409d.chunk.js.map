{"version":3,"sources":["redux/DialogsReducer.js","redux/UsersReducer.js","api/api.js","components/News/News.module.scss","components/Music/Music.module.scss","components/Settings/Settings.module.scss","assets/img/Loader.svg","components/Navbar/Navbar.module.scss","components/UI/Preloader/Preloader.module.scss","assets/img/react_logo.png","components/Login/Login.module.scss","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/Login/LoginForm.js","redux/AuthReducer.js","components/Login/Login.js","redux/AppReducer.js","components/UI/Preloader/AppPreloader.js","components/Navbar/Navbar.js","components/Header/Header.js","components/Header/HeaderContainer.js","App.js","redux/reduxStore.js","serviceWorker.js","index.js","utils/validators/validators.js","components/UI/FormValidation/ValidatedElement.js","components/UI/Preloader/Preloader.js","components/UI/FormValidation/ValidatedElement.module.scss","components/UI/Preloader/AppPreloader.module.scss","components/Header/Header.module.scss","redux/ProfileReducer.js"],"names":["initialState","dialogs","id","name","messages","message","own","dialogsReducer","state","action","type","length","messageText","dialogSendMessage","users","pageSize","totalUsersCount","currentPage","areUsersFetching","toggleFollowSuccess","userId","isFollow","setUsersAreFetching","fetchUsers","page","dispatch","a","API","getUsers","data","items","totalCount","toggleFollowUser","answerHandler","followUser","unfollowUser","resultCode","usersReducer","map","user","followed","axiosInstance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","fetchProfile","fetchStatus","updateStatus","status","put","authMe","login","email","password","rememberMe","captcha","logout","getCaptchaUrl","module","exports","News","props","className","classes","Music","Settings","loginValidators","required","maxLength","passwordValidators","minLength","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","FormItem","Field","component","ValidatedElement","element","validate","placeholder","label","captchaUrl","alt","src","error","disabled","submitting","icon","faSignInAlt","isFetching","isAuth","AuthReducer","payload","setIsFetching","setAuthUserData","setCaptcha","connect","auth","errorText","join","stopSubmit","_error","url","to","Login","formData","startSubmit","initialized","AppReducer","AppPreloader","loader","Preloader","Navbar","nav","activeClassName","active","faUser","navLinkText","faEnvelope","faUsers","faNewspaper","faMusic","faCog","Header","header","Logo","LoginPanel","onClick","faSignOutAlt","HeaderContainer","this","React","Component","mapDispatchToProps","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","fallback","exact","path","render","appState","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","formReducer","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunkMiddleware","store","createStore","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","value","input","meta","cls","invalid","touched","submitFailed","push","createElement","htmlFor","valid","width","height","isProfileFetching","profile","posts","text","likesCount","newPostText","filter","p","postId","addPost","setIsProfileFetching","setStatus"],"mappings":"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","file":"static/js/main.fc91409d.chunk.js","sourcesContent":["const DIALOG_SEND_MESSAGE = 'DIALOG_SEND_MESSAGE';\n\nconst initialState = {\n    dialogs: [\n        {id: 1, name: 'Dimych'},\n        {id: 2, name: 'Vasya'},\n        {id: 3, name: 'Petya'},\n        {id: 4, name: 'Yuri'},\n        {id: 5, name: 'Vika'},\n        {id: 6, name: 'Katya'},\n        {id: 7, name: 'Dasha'},\n        {id: 8, name: 'Sveta'}\n    ],\n    messages: [\n        {id: 0, message: \"Hi!\"},\n        {id: 1, own: true, message: \"Hello!\"},\n        {id: 2, message: \"How are you?\"},\n        {id: 3, own: true, message: \"I'm fine, and what about you?\"},\n        {id: 4, message: \"Very super!\"},\n        {id: 5, own: true, message: \"thats goooood!\"}\n    ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case DIALOG_SEND_MESSAGE:\n            return {\n                ...state,\n                messages: [\n                    ...state.messages,\n                    {\n                        id: state.messages.length,\n                        own: true,\n                        message: action.messageText\n                    }\n                ],\n                messageText: ''\n            };\n        default:\n            return state;\n    }\n};\n\nexport default dialogsReducer;\n\nexport const dialogSendMessage = (messageText) => {\n    return {type: DIALOG_SEND_MESSAGE, messageText};\n};","import {API} from \"../api/api\";\n\nconst USER_TOGGLE_FOLLOW = 'user/USER_TOGGLE_FOLLOW';\nconst USER_UNFOLLOW = 'user/USER_UNFOLLOW';\nconst SET_USERS = 'user/SET_USERS';\nconst SET_CURRENT_PAGE = 'user/SET_CURRENT_PAGE';\nconst SET_USERS_ARE_FETCHING = 'user/SET_USERS_ARE_FETCHING';\n\nconst initialState = {\n    users: [],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    areUsersFetching: false\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_USERS:\n            return {\n                ...state,\n                users: [...action.users],\n                totalUsersCount: action.totalCount\n            };\n        case SET_CURRENT_PAGE:\n            return {\n                ...state,\n                currentPage: action.currentPage\n            };\n        case USER_TOGGLE_FOLLOW:\n            return {\n                ...state,\n                users: state.users.map(user => {\n                    return user.id === action.userId\n                        ? {\n                            ...user,\n                            followed: action.isFollow\n                        }: user;\n                })\n            };\n        case SET_USERS_ARE_FETCHING:\n            return {\n                ...state,\n                areUsersFetching: action.areUsersFetching\n\n            };\n        default:\n            return state;\n    }\n};\n\n\nexport const toggleFollowSuccess = (userId, isFollow) => {\n    return {type: USER_TOGGLE_FOLLOW, userId, isFollow};\n};\n\nexport const setUsers = (users, totalCount) => {\n    return {type: SET_USERS, users, totalCount};\n};\n\nexport const setCurrentPage = (currentPage) => {\n    return {type: SET_CURRENT_PAGE, currentPage}\n};\n\nexport const setUsersAreFetching = (areUsersFetching) => {\n    return {type: SET_USERS_ARE_FETCHING, areUsersFetching}\n};\n\n//thunks\nexport const fetchUsers = (page, pageSize) => async dispatch => {\n    dispatch(setUsersAreFetching(true));\n    const data = await API.getUsers(page, pageSize)\n    dispatch(setUsers(data.items, data.totalCount));\n    dispatch(setCurrentPage(page));\n    dispatch(setUsersAreFetching(false));\n};\n\nexport const toggleFollowUser = (userId, isFollow, answerHandler) => async dispatch => {\n    const data = isFollow ? await API.followUser(userId) : await API.unfollowUser(userId);\n    if (data.resultCode === 0) {\n        dispatch(toggleFollowSuccess(userId, isFollow));\n    }\n    answerHandler();\n};\n\nexport default usersReducer;","import * as axios from \"axios\";\n\nconst axiosInstance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        \"API-KEY\": '865d9a90-c17e-47a6-8a20-ea2bc0a08d8d'\n    }\n});\n\nexport const API = {\n    getUsers: (currentPage = 1, pageSize = 10) => {\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data);\n    },\n    followUser: (userId) => {\n        return axiosInstance.post(`follow/${userId}`)\n            .then(response => response.data);\n    },\n    unfollowUser: (userId) => {\n        return axiosInstance.delete(`follow/${userId}`)\n            .then(response => response.data);\n    },\n    fetchProfile: (userId) => {\n        return axiosInstance.get(`profile/${userId}`)\n            .then(response => response.data);\n    },\n    fetchStatus: (userId) => {\n        return axiosInstance.get(`profile/status/${userId}`)\n            .then(response => response.data);\n    },\n    updateStatus: (status) => {\n        return axiosInstance.put(`profile/status`, {status})\n            .then(response => response.data);\n    },\n    authMe: () => {\n        return axiosInstance.get(`auth/me`)\n            .then(response => response.data);\n    },\n    login: (email, password, rememberMe = false, captcha = null) => {\n        return axiosInstance.post(`auth/login`, {email, password, rememberMe, captcha})\n            .then(response => response.data);\n    },\n    logout: () => {\n        return axiosInstance.delete(`auth/login`)\n            .then(response => response.data);\n    },\n    getCaptchaUrl: () => {\n        return axiosInstance.get(`security/get-captcha-url`)\n            .then(response => response.data);\n    }\n};\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"News\":\"News_News__2FFWf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Music\":\"Music_Music__1NJy8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Settings\":\"Settings_Settings__3aFiG\"};","module.exports = __webpack_public_path__ + \"static/media/Loader.ba9201d8.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__NNy7M\",\"active\":\"Navbar_active__3KeoL\",\"navLinkText\":\"Navbar_navLinkText__gDve_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Preloader\":\"Preloader_Preloader__ios9Z\"};","module.exports = __webpack_public_path__ + \"static/media/react_logo.c5a8e655.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__2_tNK\",\"FormItem\":\"Login_FormItem__2ON04\",\"error\":\"Login_error__n4XNc\"};","import React from \"react\";\nimport classes from './News.module.scss'\n\nconst News = (props) => {\n    return (\n        <div className={classes.News}>\n            News\n        </div>\n    );\n};\n\nexport default News;","import React from \"react\";\nimport classes from './Music.module.scss'\n\nconst Music = (props) => {\n    return (\n        <div className={classes.Music}>\n            Music\n        </div>\n    );\n};\n\nexport default Music;","import React from \"react\";\nimport classes from './Settings.module.scss'\n\nconst Settings = (props) => {\n    return (\n        <div className={classes.Settings}>\n            Settings\n        </div>\n    );\n};\n\nexport default Settings;","import React from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport classes from './Login.module.scss';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSignInAlt} from \"@fortawesome/free-solid-svg-icons\";\nimport {ValidatedElement} from \"../UI/FormValidation/ValidatedElement\";\nimport {maxLength, minLength, required} from \"../../utils/validators/validators\";\n\nconst loginValidators = [required, maxLength(32)];\nconst passwordValidators = [required, minLength(6)];\n\nconst LoginForm = (props) => {\n\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div className={classes.FormItem}>\n                <Field\n                    component={ValidatedElement}\n                    element={'input'}\n                    name={'email'}\n                    type={'text'}\n                    validate={loginValidators}\n                    placeholder={'Email'}/>\n            </div>\n            <div className={classes.FormItem}>\n                <Field\n                    component={ValidatedElement}\n                    element={'input'}\n                    name={'password'}\n                    type={'password'}\n                    validate={passwordValidators}\n                    placeholder={'Password'}/>\n            </div>\n            <div className={classes.FormItem}>\n                <Field id={'rememberMe'}\n                       className={'customCheckBox'}\n                       component={ValidatedElement}\n                       element={'input'}\n                       label={'Remember me'}\n                       type={\"checkbox\"}\n                       name={'rememberMe'}\n                />\n            </div>\n            {/*Каптча*/}\n            {props.captchaUrl && <div className={classes.FormItem}>\n                <div>\n                    <img alt=\"\" src={props.captchaUrl}/>\n                </div>\n                <Field\n                    component={ValidatedElement}\n                    element={'input'}\n                    name={'captcha'}\n                    type={'text'}\n                    validate={[required]}\n                    placeholder={'Enter captcha'}/>\n            </div>}\n            {/*Ошибки валидации формы*/}\n            {props.error && <div className={classes.FormItem + ' ' + classes.error}>\n                {props.error}\n            </div>}\n            {/*Кнопка сабмита формы*/}\n            <div className={classes.FormItem}>\n                <button disabled={props.submitting}\n                    className={'blue'}\n                >\n                    <FontAwesomeIcon icon={faSignInAlt}/>&nbsp;\n                    Login\n                </button>\n            </div>\n        </form>\n    );\n};\n\nconst LoginReduxForm = reduxForm(\n    {\n        form: 'login',\n    })(LoginForm);\n\nexport default LoginReduxForm;","import {API} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_AUTH_IS_FETCHING = 'auth/SET_AUTH_IS_FETCHING';\nconst FETCH_USER_DATA = 'auth/FETCH_USER_DATA';\nconst SET_CAPTCHA = 'auth/SET_CAPTCHA';\nconst CLEAR_CAPTCHA = 'auth/CLEAR_CAPTCHA';\n\nconst initialState = {\n    isFetching: false,\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n};\n\nconst AuthReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case FETCH_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            };\n        case SET_AUTH_IS_FETCHING:\n            return {\n                ...state, isFetching: action.isFetching\n            };\n        case SET_CAPTCHA:\n            return {\n                ...state, captchaUrl: action.captchaUrl\n            };\n        case CLEAR_CAPTCHA:\n            return {\n                ...state, captchaUrl: null\n            };\n        default:\n            return state;\n    }\n};\n\nexport default AuthReducer;\n\n\nexport const setIsFetching = isFetching => {\n    return { type: SET_AUTH_IS_FETCHING, isFetching}\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => {\n    return { type: FETCH_USER_DATA, payload: {userId, email, login, isAuth}}\n};\n\nexport const setCaptcha = (captchaUrl) => {\n    return { type: SET_CAPTCHA, captchaUrl}\n};\n\nexport const clearCaptcha = () => {\n    return { type: CLEAR_CAPTCHA };\n};\n\n//thunks\nexport const authMe = () => async (dispatch) => {\n    dispatch(setIsFetching(true));\n    const response = await API.authMe();\n    if (response.resultCode === 0) {\n        dispatch(setAuthUserData(\n            response.data.id,\n            response.data.email,\n            response.data.login,\n            true));\n    }\n    dispatch(setIsFetching(false));\n};\n\nexport const login = (email, password, rememberMe, captcha = null) => async dispatch => {\n    const data = await API.login(email, password, rememberMe, captcha);\n    if (data.resultCode === 0) {\n        dispatch(authMe());\n        if (captcha) {\n            dispatch(clearCaptcha());\n        }\n    } else if (data.resultCode === 10) {\n        const errorText = data.messages.length > 0 ? data.messages.join(', ') : 'Server error';\n        dispatch(stopSubmit(\"login\", {_error: errorText}));\n        API.getCaptchaUrl()\n            .then(data => dispatch(setCaptcha(data.url)));\n    } else {\n        const errorText = data.messages.length > 0 ? data.messages.join(', ') : 'Server error';\n        dispatch(stopSubmit(\"login\", {_error: errorText}));\n    }\n    //dispatch(stopSubmit('login'));\n};\n\nexport const logout = () => async (dispatch) => {\n    const data = await API.logout()\n    if (data.resultCode === 0) {\n        dispatch(setAuthUserData(\n            null,\n            null,\n            null,\n            false));\n    }\n};\n\n","import React from \"react\";\nimport LoginReduxForm from \"./LoginForm\";\nimport classes from './Login.module.scss';\nimport {startSubmit} from 'redux-form';\nimport {connect} from \"react-redux\";\nimport {login, logout} from \"../../redux/AuthReducer\";\nimport {Redirect} from \"react-router-dom\";\n\nconst Login = (props) => {\n\n    const onSubmit = (formData, dispatch) => {\n        dispatch(startSubmit('login'));\n        const captcha = formData.captcha || null;\n        props.login(formData.email, formData.password, formData.rememberMe, captcha);\n    };\n\n    if(props.isAuth) {\n        return <Redirect to={\"/profile\"}/>;\n    }\n\n    return (\n        <div className={classes.Login}>\n            <h3>Login</h3>\n            <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl\n});\n\nexport default connect(mapStateToProps, {login, logout})(Login);","import {API} from \"../api/api\";\nimport {authMe} from \"./AuthReducer\";\n\nconst SET_INITIALIZED = 'SET_INITIALIZED';\n\nconst initialState = {\n    initialized: false\n};\n\nconst AppReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_INITIALIZED:\n            return {\n                ...state,\n                initialized: true\n            };\n        default:\n            return state;\n    }\n};\n\nexport default AppReducer;\n\n\nexport const setInitialized = () => {\n    return { type: SET_INITIALIZED}\n};\n\n\n//thunks\nexport const initializeApp = () => async (dispatch) => {\n    await dispatch(authMe());\n    dispatch(setInitialized());\n};\n","import React from \"react\";\nimport Preloader from \"./Preloader\";\nimport classes from \"./AppPreloader.module.scss\";\n\nconst AppPreloader = () => {\n    return (\n        <div className={classes.AppPreloader}>\n            <div className={classes.loader}>\n                <Preloader/>\n            </div>\n        </div>\n    );\n};\n\nexport default AppPreloader;","import React from \"react\";\nimport classes from './Navbar.module.scss';\n\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faCog, faEnvelope, faUser, faUsers} from \"@fortawesome/free-solid-svg-icons\";\nimport {faNewspaper} from \"@fortawesome/free-solid-svg-icons/faNewspaper\";\nimport {faMusic} from \"@fortawesome/free-solid-svg-icons/faMusic\";\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n    return (\n        <nav className={classes.nav}>\n            <div>\n\n                <NavLink to=\"/profile\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faUser} />\n                    <span className={classes.navLinkText}>Profile</span>\n                </NavLink>\n            </div>\n            <div>\n            <NavLink to=\"/dialogs\" activeClassName={classes.active}>\n                <FontAwesomeIcon icon={faEnvelope} />\n                <span className={classes.navLinkText}>Messages</span>\n            </NavLink>\n        </div>\n            <div>\n                <NavLink to=\"/users\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faUsers} />\n                    <span className={classes.navLinkText}>Users</span>\n                </NavLink>\n            </div>\n            <div>\n\n                <NavLink to=\"/news\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faNewspaper} />\n                    <span className={classes.navLinkText}>News</span>\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/music\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faMusic} />\n                    <span className={classes.navLinkText}>Music</span>\n                </NavLink>\n            </div>\n            <div>\n                <NavLink to=\"/settings\" activeClassName={classes.active}>\n                    <FontAwesomeIcon icon={faCog} />\n                    <span className={classes.navLinkText}>Settings</span>\n                </NavLink>\n            </div>\n        </nav>\n    );\n\n};\n\nexport default Navbar;","import React from \"react\";\nimport classes from './Header.module.scss'\n\nimport Logo from '../../assets/img/react_logo.png'\nimport Navbar from \"../Navbar/Navbar\";\nimport {NavLink} from \"react-router-dom\";\nimport Preloader from \"../UI/Preloader/Preloader\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faSignOutAlt} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Header = (props) => {\n    return (\n        <header className={classes.header}>\n            <img alt=\"\" src={Logo}\n            />\n            <Navbar/>\n            <div className={classes.LoginPanel}>\n                {props.isFetching ? <Preloader/>\n                    : props.isAuth ?\n                        <div>\n                            Hello, {props.login}&nbsp;\n                            <button onClick={props.logout}>\n                                <FontAwesomeIcon icon={faSignOutAlt}/>\n                            </button>\n                        </div>\n                        : <NavLink to='/login'>Login</NavLink>\n                }\n            </div>\n        </header>\n    );\n\n};\n\nexport default Header;","import React from \"react\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/AuthReducer\";\n\nclass HeaderContainer extends React.Component {\n\n    render() {\n        return <Header {...this.props} />\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        isFetching: state.auth.isFetching,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    };\n};\n\nconst mapDispatchToProps = {\n    logout\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);","import React, {Component, Suspense, lazy} from 'react';\nimport './App.scss';\nimport {Route, Switch} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {initializeApp} from \"./redux/AppReducer\";\nimport AppPreloader from \"./components/UI/Preloader/AppPreloader\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\n//const HeaderContainer = lazy(() => import('./components/Header/HeaderContainer'));\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'));\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if(!this.props.initialized) {\n            return <AppPreloader/>;\n        }\n        return (\n            <div className=\"app-wrapper\">\n                <HeaderContainer/>\n                <div className=\"app-container\">\n                    <div className=\"app-content\">\n                        <Suspense fallback={<AppPreloader/>}>\n                            {/*Знак ? в конце пути означает, что параметр опциональный,\n                                роут будет работать и без него*/}\n                            <Route exact path='/profile/:userId' render={() => <ProfileContainer/>}/>\n                            <Route exact path='/profile/' render={() => <ProfileContainer/>}/>\n                            <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                            <Route path='/users' component={UsersContainer}/>\n                            <Route path='/news' component={News}/>\n                            <Route path='/music' component={Music}/>\n                            <Route path='/settings' component={Settings}/>\n                            <Route path='/login' component={Login}/>\n                        </Suspense>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        initialized: state.appState.initialized,\n    }\n};\n\nconst mapDispatchToProps = {\n    initializeApp\n};\n\n//если роутинг не работает, то обернуть еще в withRouter()\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./ProfileReducer\";\nimport dialogsReducer from \"./DialogsReducer\";\nimport usersReducer from \"./UsersReducer\";\nimport AuthReducer from \"./AuthReducer\";\nimport AppReducer from \"./AppReducer\";\n\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from 'redux-form';\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: AuthReducer,\n    appState: AppReducer,\n    form: formReducer\n});\n\nconst composeEnhancers =\n    typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n            // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n        }) : compose;\n\nconst enhancer = composeEnhancers(\n    applyMiddleware(thunkMiddleware),\n    // other store enhancers if any\n);\n\nlet store = createStore(reducers, enhancer);\n\nexport default store;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport store from './redux/reduxStore';\nimport {BrowserRouter} from \"react-router-dom\";\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\n\n\nReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>,\n    document.getElementById('root')\n);\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const required = value => {\n    if(value) return undefined;\n    return 'Field is required';\n};\n\nexport const minLength = length => value => {\n    if(value && value.length < length) return `Min length is ${length} chars`;\n    return undefined;\n};\n\nexport const maxLength = length => value => {\n    if(value && value.length > length) return `Max length is ${length} chars`;\n    return undefined;\n};","import React from \"react\";\nimport classes from \"./ValidatedElement.module.scss\"\n\n//остаточные параметры\nexport const ValidatedElement = ({input, meta, element, ...props}) => {\n    const cls = [classes.ValidatedElement];\n    if(meta.invalid && meta.error && (meta.touched || meta.submitFailed)) {\n        cls.push(classes.error);\n    }\n\n    return (\n        <div className={cls.join(' ')}>\n            {React.createElement(element, {...input, ...props})}\n            {props.type === 'checkbox' &&\n                React.createElement('label', {htmlFor: props.id}, props.label || 'set \"label\" prop')}\n            {meta.touched && !meta.valid && <span className={'error'}>{meta.error}</span>}\n        </div>\n    )\n};","import React from \"react\";\nimport loader from \"../../../assets/img/Loader.svg\";\nimport classes from './Preloader.module.scss'\n\nconst Preloader = () => {\n    return (<img  className={classes.Preloader} width=\"100px\" height=\"100px\" alt=\"\" src={loader}/>);\n};\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ValidatedElement\":\"ValidatedElement_ValidatedElement__JqD5x\",\"error\":\"ValidatedElement_error__3VKn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AppPreloader\":\"AppPreloader_AppPreloader__2ar25\",\"loader\":\"AppPreloader_loader__1mydN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Te5S\",\"LoginPanel\":\"Header_LoginPanel__3Nn0U\"};","import {API} from \"../api/api\";\n\nconst ADD_POST = 'ADD_POST';\nconst DELETE_POST = 'DELETE_POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_PROFILE_IS_FETCHING = 'SET_PROFILE_IS_FETCHING';\nconst SET_STATUS = 'SET_STATUS';\n\nconst initialState = {\n    isProfileFetching: false,\n    profile: null,\n    status: '',\n    posts: [\n        {id: 0, text: 'My first post', likesCount: 123},\n        {id: 1, text: 'My second post', likesCount: 58},\n        {id: 2, text: 'My third post', likesCount: 42}\n    ]\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch(action.type) {\n        case SET_USER_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            };\n        case ADD_POST:\n            return {\n                ...state,\n                posts: [\n                    ...state.posts,\n                    {\n                        id: state.posts.length,\n                        text: action.newPostText,\n                        likesCount: 0\n                    }\n                ]\n            };\n        case DELETE_POST:\n            return {\n                ...state, posts: state.posts.filter(p => p.id !== action.postId)\n            };\n        case SET_PROFILE_IS_FETCHING:\n            return {\n                ...state, isProfileFetching: action.isProfileFetching\n            };\n        case SET_STATUS:\n            return {\n                ...state,\n                status: action.status\n            };\n        default:\n            return state;\n    }\n};\n\nexport default profileReducer;\n\nexport const fetchProfileSuccess = profile => {\n    return { type: SET_USER_PROFILE, profile}\n};\n\nexport const addPost = (newPostText) => {\n    return {type: ADD_POST, newPostText};\n};\n\nexport const deletePost = (postId) => {\n    return {type: DELETE_POST, postId};\n};\n\nexport const setIsProfileFetching = isProfileFetching => {\n    return { type: SET_PROFILE_IS_FETCHING, isProfileFetching}\n};\n\nexport const setStatus = status => {\n    return { type: SET_STATUS, status}\n};\n\n\n\n//thunks\nexport const fetchProfile = (userId) => async (dispatch) => {\n    dispatch(setIsProfileFetching(true));\n    const data = await API.fetchProfile(userId);\n    dispatch(fetchProfileSuccess(data));\n    dispatch(setIsProfileFetching(false));\n\n};\n\nexport const fetchStatus = (userId) => async (dispatch) => {\n    const data = await API.fetchStatus(userId);\n    dispatch(setStatus(data));\n};\n\nexport const updateStatus = (status) => async dispatch => {\n    const data = await API.updateStatus(status);\n    if (data.resultCode === 0) {\n        dispatch(setStatus(status));\n    }\n};\n\n"],"sourceRoot":""}